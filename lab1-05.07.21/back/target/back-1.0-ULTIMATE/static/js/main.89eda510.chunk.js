(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{186:function(e,t,n){},187:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var i,r=n(0),a=n.n(r),c=n(26),o=n.n(c),s=(n(186),n(57)),u=(n(187),n(329)),l=n(72),d=n(338),b=n(339),j=function(e){return e.json()};!function(e){e.PERSONS="http://localhost:8080/back-1.0-ULTIMATE/api/persons/",e.DRAGONS="http://localhost:8080/back-1.0-ULTIMATE/api/dragons/"}(i||(i={}));var p=function(e){return fetch(e,{method:"GET"}).then(j)},O=function(e,t){return fetch("".concat(e).concat(t),{method:"DELETE"}).then(j)},h=function(e,t,n){return e[n]-t[n]},f=function(e,t,n){return e[n].length-t[n].length},x=[{title:"ID",key:"id",dataIndex:"id",editable:!1,inputType:"number",sorter:function(e,t){return h(e,t,"id")}},{title:"NAME",key:"name",dataIndex:"name",editable:!0,inputType:"string",sorter:function(e,t){return f(e,t,"name")}},{title:"HEIGHT",key:"height",dataIndex:"height",editable:!0,inputType:"number",sorter:function(e,t){return h(e,t,"height")}},{title:"WEIGHT",key:"weight",dataIndex:"weight",editable:!0,inputType:"number",sorter:function(e,t){return h(e,t,"weight")}},{title:"PASSPORT_ID",key:"passportID",dataIndex:"passportID",editable:!0,inputType:"string",sorter:function(e,t){return f(e,t,"passport_id")}},{title:"HAIR_COLOR",key:"hairColor",dataIndex:"hairColor",editable:!0,inputType:"string",sorter:function(e,t){return f(e,t,"hairColor")}}],y=[{title:"ID",key:"id",dataIndex:"id",editable:!1,inputType:"number",sorter:function(e,t){return h(e,t,"id")}},{title:"NAME",key:"name",dataIndex:"name",editable:!0,inputType:"string",sorter:function(e,t){return f(e,t,"name")}},{title:"CREATION_DATE",key:"creationDate",dataIndex:"creationDate",editable:!1,inputType:"string",sorter:function(e,t){return f(e,t,"creation_date")}},{title:"AGE",key:"age",dataIndex:"age",editable:!0,inputType:"number",sorter:function(e,t){return h(e,t,"age")}},{title:"WINGSPAN",key:"wingspan",dataIndex:"wingspan",editable:!0,inputType:"number",sorter:function(e,t){return h(e,t,"wingspan")}},{title:"COLOR",key:"color",dataIndex:"color",editable:!0,inputType:"string",sorter:function(e,t){return f(e,t,"color")}},{title:"TYPE",key:"type",dataIndex:"type",editable:!0,inputType:"string",sorter:function(e,t){return f(e,t,"type")}},{title:"KILLER_ID",key:"killer_id",dataIndex:"killer_id",editable:!0,inputType:"number",sorter:function(e,t){return h(e,t,"killer_id")}}],m=n(173),g=n(136),I=n.n(g),k=n(164),T=n(73),E=n(178),S=n(331),C=n(333),N=n(334),A=n(335),w=n(332),R=n(336),v=n(46),D=n(174),L=n(330),_=n(138),P=n(337),G=n(20),H=["editing","dataIndex","title","inputType","record","index","children"],M=function(e){var t=e.editing,n=e.dataIndex,i=e.title,r=e.inputType,a=(e.record,e.index,e.children),c=Object(E.a)(e,H);return Object(G.jsx)("td",Object(T.a)(Object(T.a)({},c),{},{children:t?Object(G.jsx)(S.a.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(i,"!")}],children:"number"===r?Object(G.jsx)(C.a,{}):Object(G.jsx)(N.a,{})}):a}))},K=function(e){var t=e.entity,n=e.columns,i=S.a.useForm(),a=Object(s.a)(i,1)[0],c=Object(r.useState)([]),o=Object(s.a)(c,2),l=o[0],d=o[1],b=Object(r.useState)(!0),j=Object(s.a)(b,2),h=j[0],f=j[1],x=Object(r.useState)(0),y=Object(s.a)(x,2),g=y[0],E=y[1],C=Object(r.useState)([]),N=Object(s.a)(C,2),H=N[0],K=N[1],F=function(e){return e.key===g},J=function(){return E(0)},U=function(){var e=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){p(t).then((function(e){f(!1),d(e.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{key:e.id})})))}))}),[t]);var V=[].concat(Object(m.a)(n),[{title:"ACTIONS",dataIndex:"actions",render:function(e,t){return F(t)?Object(G.jsxs)("span",{children:[Object(G.jsx)("a",{onClick:function(){return U(t.key)},style:{marginRight:8},children:"Save"}),Object(G.jsx)(A.a,{title:"Sure to cancel?",onConfirm:J,children:Object(G.jsx)("a",{children:"Cancel"})})]}):Object(G.jsx)(w.a.Link,{disabled:0!==g,onClick:function(){a.setFieldsValue(t),E(t.key)},children:"Edit"})}}]).map((function(e){return e.editable?Object(T.a)(Object(T.a)({},e),{},{onCell:function(t){return{record:t,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title,editing:F(t)}}}):e}));return Object(G.jsxs)(u.a,{className:"site-layout",children:[Object(G.jsx)(_.Header,{children:Object(G.jsx)(R.b,{size:"middle",children:Object(G.jsx)(v.a,{icon:Object(G.jsx)(P.a,{}),ghost:!0,danger:!0,onClick:function(){0===H.length?D.b.warning("Nothing is selected"):Promise.all(H.map((function(e){return O(t,e)}))).then((function(){return D.b.success("All entities was deleted")}))},children:"Remove"})})}),Object(G.jsx)(_.Content,{children:Object(G.jsx)(L.a,{columns:V,rowSelection:{selectedRowKeys:H,onChange:function(e){return K(e)},selections:[L.a.SELECTION_ALL,L.a.SELECTION_INVERT,L.a.SELECTION_NONE]},dataSource:l,loading:h,components:{body:{cell:M}},pagination:{onChange:J,position:["bottomCenter"]}})})]})},F=function(){var e=Object(G.jsx)(K,{entity:i.PERSONS,columns:x}),t=Object(G.jsx)(K,{entity:i.DRAGONS,columns:y}),n=Object(r.useState)(e),a=Object(s.a)(n,2),c=a[0],o=a[1],j=Object(r.useState)(!1),p=Object(s.a)(j,2),O=p[0],h=p[1];return Object(G.jsxs)(u.a,{style:{minHeight:"100vh"},children:[Object(G.jsx)(u.a.Sider,{collapsible:!0,collapsed:O,onCollapse:function(){return h(!O)},children:Object(G.jsxs)(l.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(G.jsx)(l.a.Item,{icon:Object(G.jsx)(d.a,{}),onClick:function(){return o(e)},children:"Persons"}),Object(G.jsx)(l.a.Item,{icon:Object(G.jsx)(b.a,{}),onClick:function(){return o(t)},children:"Dragons"})]})}),Object(G.jsxs)(u.a,{className:"site-layout",children:[Object(G.jsx)(u.a.Content,{children:Object(G.jsx)("div",{className:"site-layout-background",style:{minHeight:360},children:c})}),Object(G.jsx)(u.a.Footer,{style:{textAlign:"center"},children:Object(G.jsx)("a",{href:"https://se.ifmo.ru/~s265570/cv/",children:"Kulbako Artemy 2021"})})]})]})};o.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(F,{})}),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.89eda510.chunk.js.map